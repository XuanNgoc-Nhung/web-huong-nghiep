<div class="container mt-2 bg-light rounded-4">
    {{> buoc-trac-nghiem currentStep=6}}
    {{!-- Tabs k·∫øt qu·∫£ --}}
    <div class="custom-switch-tabs mb-4">
        <button class="switch-tab active" data-tab="kqTracNghiem" type="button">K·∫øt qu·∫£ tr·∫Øc nghi·ªám</button>
        <button class="switch-tab" data-tab="nganhUocMo" type="button">Ng√†nh h·ªçc ∆∞·ªõc m∆°</button>
        <button class="switch-tab" data-tab="khaoSatCaNhan" type="button">Kh·∫£o s√°t c√° nh√¢n</button>
    </div>
    <div class="tab-content-custom">
        <div class="tab-pane-custom show" id="tab-kqTracNghiem">
            {{!-- K·∫øt qu·∫£ --}}
            <div class="bg-white rounded-4 p-4 p-md-5">
                <div class="tabs1">
                    <h1 class="h3 mb-0">üéâ K·∫øt qu·∫£ tr·∫Øc nghi·ªám c·ªßa b·∫°n</h1>
                    <div class="mb-2 mt-2">T·ªïng ƒëi·ªÉm theo t·ª´ng nh√≥m ng√†nh:</div>
                    <div class="d-flex align-items-center gap-2 mb-4 kq-nganh">
                        <div class="mb-4 w-100" style="background: #f8f9fa; border-radius: 16px;">
                            <div class="overflow-auto"
                                style="min-height: 300px; width: 100%; display: flex; justify-content: center; align-items: center;">
                                <div style="min-width: 600px; width: 100%; height: 400px;" class="chart-container">
                                    <canvas id="nganhRadarChart" style="width: 100%; height: 100%;"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{!-- section 2 --}}
                    <div class="row mt-4 align-items-stretch">
                        <!-- B·∫£ng x·∫øp h·∫°ng nh√≥m ng√†nh -->
                        <div class="col-md-7 mb-4 h-100">
                            <div class="h-100 d-flex flex-column justify-content-center"
                                style="background: #f8f9fa; border-radius: 16px;">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle mb-0">
                                        <thead class="table-light">
                                            <tr>
                                                <th scope="col" class="text-center">X·∫øp h·∫°ng</th>
                                                <th scope="col">Nh√≥m ng√†nh</th>
                                                <th scope="col">ƒêi·ªÉm c·ªßa b·∫°n</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="table-success">
                                                <td class="text-center">1</td>
                                                <td>
                                                    Kinh doanh & Qu·∫£n l√Ω<br>
                                                    <span class="text-muted small">(Business & Management)</span>
                                                </td>
                                                <td>37 ƒëi·ªÉm</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">2</td>
                                                <td>
                                                    K·ªπ thu·∫≠t & C√¥ng ngh·ªá<br>
                                                    <span class="text-muted small">(Engineering & Technology)</span>
                                                </td>
                                                <td>34 ƒëi·ªÉm</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">3</td>
                                                <td>
                                                    Ngh·ªá thu·∫≠t & S√°ng t·∫°o<br>
                                                    <span class="text-muted small">(Arts & Creativity)</span>
                                                </td>
                                                <td>31 ƒëi·ªÉm</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">4</td>
                                                <td>
                                                    Khoa h·ªçc & Nghi√™n c·ª©u<br>
                                                    <span class="text-muted small">(Science & Research)</span>
                                                </td>
                                                <td>28 ƒëi·ªÉm</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">5</td>
                                                <td>
                                                    Qu√¢n ƒë·ªôi, C√¥ng an, H√†ng kh√¥ng<br>
                                                    <span class="text-muted small">(Military, Police & Aviation)</span>
                                                </td>
                                                <td>26 ƒëi·ªÉm</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">6</td>
                                                <td>
                                                    Gi√°o d·ª•c & C√¥ng t√°c x√£ h·ªôi<br>
                                                    <span class="text-muted small">(Education & Social Work)</span>
                                                </td>
                                                <td>22 ƒëi·ªÉm</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- Huy ch∆∞∆°ng nh√≥m ng√†nh cao nh·∫•t -->
                        <div class="col-md-5 d-flex align-items-center justify-content-center h-100">
                            <div class="w-100 text-center h-100 d-flex flex-column justify-content-center"
                                style="background: #f8f9fa; border-radius: 16px; padding: 24px;">
                                <!-- SVG huy ch∆∞∆°ng v√† n·ªôi dung gi·ªØ nguy√™n -->
                                <div style="font-weight: bold; font-size: 20px; margin-bottom: 8px;">Nh√≥m ng√†nh c√≥ ƒëi·ªÉm
                                    cao nh·∫•t
                                </div>
                                <hr style="margin: 0 auto 24px auto; width: 90%; border-top: 1.5px solid #000000;">
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <svg width="160" height="180" viewBox="0 0 160 180" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <!-- Ribbon -->
                                        <rect x="48" y="120" width="20" height="50" rx="8" fill="#4F46E5" />
                                        <rect x="92" y="120" width="20" height="50" rx="8" fill="#EF4444" />
                                        <rect x="70" y="120" width="20" height="50" rx="8" fill="#fff" />
                                        <!-- Medal -->
                                        <circle cx="80" cy="80" r="70" fill="#FFD700" stroke="#F7B500"
                                            stroke-width="8" />
                                        <circle cx="80" cy="80" r="58" fill="#FFEB99" />
                                        <!-- Medal border effect -->
                                        <ellipse cx="80" cy="80" rx="54" ry="54" fill="#FFE066" />
                                        <!-- Score -->
                                        <text x="80" y="95" text-anchor="middle" font-size="56" font-weight="bold"
                                            fill="#A97B1C" font-family="inherit">37</text>
                                        <text x="80" y="120" text-anchor="middle" font-size="18" font-weight="bold"
                                            fill="#A97B1C" font-family="inherit">ƒëi·ªÉm</text>
                                    </svg>
                                    <div class="mt-4 fw-bold" style="color: #2563eb; font-size: 22px;">Kinh doanh & Qu·∫£n
                                        l√Ω
                                    </div>
                                    <div style="color: #2563eb; font-size: 16px; font-weight: 500;">(Business &
                                        Management)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{!-- section 3 --}}
                    <div class="row mt-5">
                        <div class="col-12 d-flex flex-column">
                            <div class="fw-bold mb-3" style="font-size: 22px; display: flex; gap: 8px;">
                                <span style="font-size: 20px;">üéØ</span> Nh√≥m ng√†nh ngh·ªÅ ph√π h·ª£p v·ªõi b·∫°n
                            </div>
                            <div class="hexagon-career d-flex flex-column align-items-center justify-content-center">
                                <img src="/images/svg/business-management.svg" alt="Business & Management"
                                    style="width: 90px; margin-bottom: 12px;" />
                                <div class="fw-bold" style="color: #fff; font-size: 18px;">Kinh doanh & Qu·∫£n l√Ω</div>
                                <div style="color: #fff; font-size: 15px;">(Business & Management)</div>
                            </div>
                        </div>
                    </div>
                    {{!-- section 4 --}}
                    <div class="row mt-5">
                        <div class="col-12"><div class="rounded-4 p-4 p-md-5 d-flex flex-column gap-3" style="background: #f8f9ff; border: 1.5px solid #e0e7ef;">
                                <table class="table align-middle mb-0">
                                    <thead>
                                        <tr>
                                            <th style="width: 28%; font-weight: 600;">Nh√≥m ng√†nh ph√π h·ª£p v·ªõi b·∫°n</th>
                                            <th style="width: 14%; font-weight: 600;">ƒêi·ªÉm c·ªßa b·∫°n</th>
                                            <th style="width: 58%; font-weight: 600;">M√¥ t·∫£</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div style="font-weight: 600;">Kinh doanh & Qu·∫£n l√Ω<br><span class="text-muted small">(Business & Management)</span></div>
                                            </td>
                                            <td>
                                                <span style="font-weight: 600; font-size: 18px; color: #5EB47C;">37 ƒëi·ªÉm</span>
                                            </td>
                                            <td>
                                                <div style="font-weight: 600; margin-bottom: 6px;">Y√™u c·∫ßu ph√π h·ª£p:</div>
                                                <ul style="margin-bottom: 8px; padding-left: 18px;">
                                                    <li>Kh·∫£ nƒÉng l√£nh ƒë·∫°o: C·∫ßn c√≥ kh·∫£ nƒÉng qu·∫£n l√Ω ƒë·ªôi nh√≥m, ra quy·∫øt ƒë·ªãnh, v√† ƒëi·ªÅu ph·ªëi c√¥ng vi·ªác hi·ªáu qu·∫£.</li>
                                                    <li>K·ªπ nƒÉng giao ti·∫øp: C√≥ kh·∫£ nƒÉng giao ti·∫øp t·ªët, thuy·∫øt ph·ª•c v√† t·∫°o m·ªëi quan h·ªá trong m√¥i tr∆∞·ªùng c√¥ng vi·ªác.</li>
                                                    <li>T∆∞ duy chi·∫øn l∆∞·ª£c v√† t·ªï ch·ª©c: NƒÉng l·ª±c ph√¢n t√≠ch, l·∫≠p k·∫ø ho·∫°ch v√† t·ªï ch·ª©c c√¥ng vi·ªác ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u d√†i h·∫°n.</li>
                                                    <li>Tinh th·∫ßn kh·ªüi nghi·ªáp & ƒë·ªïi m·ªõi: S·ª± s√°ng t·∫°o v√† d√°m ƒë·ªïi m·ªõi trong kinh doanh.</li>
                                                    <li>K·ªπ nƒÉng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ: Kh·∫£ nƒÉng ƒë∆∞a ra gi·∫£i ph√°p cho c√°c v·∫•n ƒë·ªÅ kinh doanh, t√†i ch√≠nh v√† nh√¢n s·ª±.</li>
                                                </ul>
                                                <div style="font-weight: 600; margin-bottom: 6px;">Ph√π h·ª£p v·ªõi h·ªçc sinh c√≥:</div>
                                                <ul style="padding-left: 18px;">
                                                    <li>T√≠nh c√°ch quy·∫øt ƒëo√°n, m·∫°nh m·∫Ω, s√°ng t·∫°o v√† y√™u th√≠ch s·ª± ƒë·ªïi m·ªõi.</li>
                                                    <li>Kh·∫£ nƒÉng l√†m vi·ªác nh√≥m v√† x√¢y d·ª±ng m·ªëi quan h·ªá t·ªët v·ªõi ng∆∞·ªùi kh√°c.</li>
                                                    <li>S·ª± quan t√¢m ƒë·∫øn vi·ªác t·∫°o ra gi√° tr·ªã v√† ph√°t tri·ªÉn kinh doanh.</li>
                                                </ul>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    {{!-- section 5 --}}
                    <div class="row mt-5">
                        <div class="col-12">
                            <div class="rounded-4 d-flex flex-column gap-3" >
                                <div class="d-flex align-items-center gap-2 mb-2" style="font-size: 28px; font-weight: 700; color: #222;">
                                    <span style="font-size: 32px;">üéØ</span> Ti·∫øp theo, b·∫°n n√™n l√†m g√¨?
                                </div>
                                <div style="font-size: 18px; color: #222; font-weight: 500; margin-bottom: 8px;">
                                    <span style="font-size: 22px;">üëâ</span> Ch·ªçn ng√†nh c·ª• th·ªÉ trong nh√≥m "Kinh doanh & Qu·∫£n l√Ω" ƒë·ªÉ:
                                </div>
                                <ul style="font-size: 17px; color: #222; margin-left: 32px;">
                                    <li>Xem danh s√°ch c√°c tr∆∞·ªùng ƒë·∫°i h·ªçc ƒë√†o t·∫°o chuy√™n ng√†nh.</li>
                                    <li>So s√°nh ch·ªâ ti√™u tuy·ªÉn sinh nƒÉm g·∫ßn nh·∫•t, Ph∆∞∆°ng th·ª©c x√©t tuy·ªÉn v√† ƒëi·ªÉm chu·∫©n ƒë·∫ßu v√†o c√°c chuy√™n ng√†nh.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end gap-2 mt-5">
                    <a href="/trac-nghiem/bat-dau" class="btn btn-outline-secondary px-4">Quay l·∫°i</a>
                    <a href="/trac-nghiem/ky-nang-kha-nang" class="btn btn-success px-4">Ti·∫øp t·ª•c</a>
                </div>
            </div>
        </div>
        <div class="tab-pane-custom" id="tab-nganhUocMo">
            <!-- N·ªôi dung tab Ng√†nh h·ªçc ∆∞·ªõc m∆° -->
            <div class="bg-white rounded-4 p-4 p-md-5">
                <h2>Ng√†nh h·ªçc ∆∞·ªõc m∆°</h2>
                <!-- Th√™m n·ªôi dung cho tab n√†y -->
            </div>
        </div>
        <div class="tab-pane-custom" id="tab-khaoSatCaNhan">
            <!-- N·ªôi dung tab Kh·∫£o s√°t c√° nh√¢n -->
            <div class="bg-white rounded-4 p-4 p-md-5">
                <h2>Kh·∫£o s√°t c√° nh√¢n</h2>
                <!-- Th√™m n·ªôi dung cho tab n√†y -->
            </div>
        </div>
    </div>
</div>

<style>
    .kq-nganh {
        background: #f8f9fa;
        border-radius: 16px;
        padding: 24px;
    }

    .hexagon-career {
        width: 260px;
        height: 300px;
        background: #4f8cff;
        clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        box-shadow: 0 4px 24px 0 rgba(79, 140, 255, 0.10);
    }

    @media (max-width: 768px) {
        .chart-container {
            height: 250px !important;
        }

        .kq-nganh {
            padding: 12px;
        }

        .kq-nganh>div {
            min-height: 300px !important;
        }
    }

    .custom-switch-tabs {
        display: flex;
        background: #f3f3f3;
        border-radius: 999px;
        padding: 6px;
        width: fit-content;
        margin: 0 auto 24px auto;
        box-shadow: 0 2px 8px 0 rgba(79, 140, 255, 0.08);
    }

    .switch-tab {
        border: none;
        background: transparent;
        color: #5EB47C;
        font-weight: 600;
        font-size: 17px;
        padding: 10px 32px;
        border-radius: 999px;
        transition: all 0.2s;
        outline: none;
        cursor: pointer;
    }

    .switch-tab.active {
        background: #5EB47C;
        color: #fff;
        box-shadow: 0 2px 8px 0 rgba(79, 140, 255, 0.12);
    }

    .tab-pane-custom {
        display: none;
        opacity: 0;
        transform: translateY(20px) scale(0.98);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        position: absolute;
        width: 100%;
    }

    .tab-pane-custom.show {
        display: block;
        opacity: 1;
        transform: translateY(0) scale(1);
        position: relative;
    }

    /* CƒÉn d·ªçc vƒÉn b·∫£n b·∫£ng section 4 l√™n tr√™n */
    table th, table td {
        vertical-align: top !important;
    }
    .table>:not(caption)>*>*{
        background: #f8f9ff !important;
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script>
    // Form validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                } else {
                    event.preventDefault();
                    window.location.href = '/trac-nghiem/ky-nang-kha-nang';
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()

    // Add click handlers for radio buttons
    document.querySelectorAll('.form-check-input').forEach(radio => {
        radio.addEventListener('change', function () {
            // Remove selected class from all siblings
            const parentDiv = this.closest('.d-flex.flex-column');
            parentDiv.querySelectorAll('.form-check').forEach(check => {
                check.classList.remove('selected');
            });

            // Add selected class to parent form-check
            this.closest('.form-check').classList.add('selected');
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        const ctx = document.getElementById('nganhRadarChart').getContext('2d');

        // C·∫•u h√¨nh m√†u s·∫Øc
        const colors = {
            business: '#007bff',
            engineering: '#28a745',
            arts: '#dc3545',
            science: '#6f42c1',
            military: '#17a2b8',
            education: '#ffc107'
        };

        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: [
                    'Kinh doanh & Qu·∫£n l√Ω',
                    'K·ªπ thu·∫≠t & C√¥ng ngh·ªá',
                    'Ngh·ªá thu·∫≠t & S√°ng t·∫°o',
                    'Khoa h·ªçc & Nghi√™n c·ª©u',
                    'Qu√¢n ƒë·ªôi, C√¥ng an, H√†ng kh√¥ng',
                    'Gi√°o d·ª•c & C√¥ng t√°c x√£ h·ªôi'
                ],
                datasets: [{
                    label: 'T·ªïng ƒëi·ªÉm',
                    data: [38, 28, 32, 25, 18, 22],
                    backgroundColor: 'rgba(0, 123, 255, 0.2)',
                    borderColor: 'rgba(0, 123, 255, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: Object.values(colors),
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: Object.values(colors),
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        padding: 12,
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        }
                    }
                },
                scales: {
                    r: {
                        angleLines: {
                            display: true,
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        suggestedMin: 0,
                        suggestedMax: 40,
                        pointLabels: {
                            font: {
                                size: function () {
                                    return window.innerWidth < 768 ? 11 : 13;
                                },
                                weight: '500'
                            },
                            color: Object.values(colors),
                            padding: function () {
                                return window.innerWidth < 768 ? 15 : 20;
                            }
                        },
                        ticks: {
                            stepSize: 10,
                            backdropColor: 'transparent',
                            color: 'rgba(0, 0, 0, 0.5)',
                            font: {
                                size: function () {
                                    return window.innerWidth < 768 ? 9 : 11;
                                }
                            }
                        }
                    }
                }
            }
        });
    });

    $(document).ready(function () {
        $('.switch-tab').click(function () {
            // Remove active class from all tabs
            $('.switch-tab').removeClass('active');
            // Add active class to clicked tab
            $(this).addClass('active');

            // Hide all tab panes with transition
            $('.tab-pane-custom').removeClass('show');

            // Show the selected tab pane with transition
            setTimeout(() => {
                $('#tab-' + $(this).data('tab')).addClass('show');
            }, 100);
        });
    });
</script>